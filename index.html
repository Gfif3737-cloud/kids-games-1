<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ò–≥—Ä—ã –≤ –º–µ—Ç—Ä–æ</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
      background: #b71c1c;
      color: white;
      text-align: center;
      min-height: 100vh;
    }

    .screen {
      display: none;
      padding: 20px;
    }

    .screen.active {
      display: block;
    }

    .title {
      font-size: 42px;
      font-weight: 900;
      margin-top: 20px;
      letter-spacing: 2px;
    }

    .subtitle {
      font-size: 24px;
      margin-bottom: 20px;
    }

    button {
      font-size: 18px;
      padding: 12px 20px;
      margin: 8px;
      border-radius: 20px;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }

    .red-btn {
      background: white;
      color: #b71c1c;
    }

    .blue-btn {
      background: white;
      color: #1565c0;
    }

    .back-btn {
      background: white;
      color: #333;
    }

    /* ===== –õ–ê–ë–ò–†–ò–ù–¢ ===== */

    #maze {
      font-size: 34px;
      line-height: 40px;
      white-space: pre;
      margin: 20px auto;
      max-width: 320px;
    }

    .controls {
      margin-top: 20px;
    }

    .controls button {
      width: 70px;
      height: 70px;
      font-size: 28px;
      border-radius: 50%;
      background: white;
      color: black;
    }

    .controls-row {
      display: flex;
      justify-content: center;
    }

    @media (max-width: 500px) {
      .title {
        font-size: 34px;
      }
      .subtitle {
        font-size: 20px;
      }
      #maze {
        font-size: 28px;
        line-height: 34px;
      }
    }
  </style>
</head>

<body>

  <!-- ===== –¢–ò–¢–£–õ–¨–ù–´–ô –≠–ö–†–ê–ù ===== -->
  <div id="home" class="screen active">
    <h1 class="title">–ò–ì–†–´ –í –ú–ï–¢–†–û</h1>
    <p class="subtitle">–í—ã–±–µ—Ä–∏ –ª–∏–Ω–∏—é</p>

    <button class="red-btn" onclick="openMemory()">üî¥ –õ–∏–Ω–∏—è –ø–∞–º—è—Ç–∏</button>
    <button class="blue-btn" onclick="openMaze()">üîµ –õ–∏–Ω–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞</button>
  </div>

  <!-- ===== –õ–ò–ù–ò–Ø –ü–ê–ú–Ø–¢–ò ===== -->
  <div id="memory" class="screen">
    <h1 class="title">–õ–∏–Ω–∏—è –ø–∞–º—è—Ç–∏</h1>
    <p class="subtitle">–í—ã–±–µ—Ä–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π</p>

    <button onclick="selectMemory('–°–º–µ—à–∞—Ä–∏–∫–∏')">üê∞ –°–º–µ—à–∞—Ä–∏–∫–∏</button>
    <button onclick="selectMemory('–§–∏–∫—Å–∏–∫–∏')">üîß –§–∏–∫—Å–∏–∫–∏</button>
    <button onclick="selectMemory('–ú–∞—à–∞ –∏ –ú–µ–¥–≤–µ–¥—å')">üêª –ú–∞—à–∞ –∏ –ú–µ–¥–≤–µ–¥—å</button>
    <button onclick="selectMemory('–í–∏–Ω–Ω–∏-–ü—É—Ö')">üçØ –í–∏–Ω–Ω–∏-–ü—É—Ö</button>
    <button onclick="selectMemory('–ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ')">üêÆ –ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ</button>

    <p id="memoryText" style="margin-top:20px;"></p>

    <button class="back-btn" onclick="goHome()">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>

  <!-- ===== –õ–ò–ù–ò–Ø –õ–ê–ë–ò–†–ò–ù–¢–ê ===== -->
  <div id="mazeScreen" class="screen">
    <h1 class="title">–õ–∏–Ω–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞</h1>
    <p class="subtitle" id="mazeTask">–ü—Ä–æ–≤–µ–¥–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∫ —Ü–µ–ª–∏</p>

    <div id="maze"></div>

    <div class="controls">
      <button onclick="move('up')">‚¨ÜÔ∏è</button>
      <div class="controls-row">
        <button onclick="move('left')">‚¨ÖÔ∏è</button>
        <button onclick="move('right')">‚û°Ô∏è</button>
      </div>
      <button onclick="move('down')">‚¨áÔ∏è</button>
    </div>

    <button class="back-btn" onclick="goHome()">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>

  <script>
    /* ===== –ù–ê–í–ò–ì–ê–¶–ò–Ø ===== */

    function show(screenId) {
      document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
      document.getElementById(screenId).classList.add("active");
    }

    function goHome() {
      show("home");
    }

    function openMemory() {
      show("memory");
    }

    function openMaze() {
      startMaze("–ß–µ–±—É—Ä–∞—à–∫–∞", "üçä");
      show("mazeScreen");
    }

    /* ===== –õ–ò–ù–ò–Ø –ü–ê–ú–Ø–¢–ò (–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞) ===== */

    function selectMemory(name) {
      document.getElementById("memoryText").innerText =
        "üéÆ –°–∫–æ—Ä–æ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∏–≥—Ä–∞ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏: " + name;
    }

    /* ===== –õ–ê–ë–ò–†–ò–ù–¢ ===== */

    let maze;
    let player;
    let targetEmoji = "üçä";
    let heroEmoji = "üêª";

    function startMaze(hero, target) {
      heroEmoji = hero === "–ß–µ–±—É—Ä–∞—à–∫–∞" ? "üêª" :
                  hero === "–ü–∏–Ω" ? "üêß" :
                  hero === "–ú–∞—Ç—Ä–æ—Å–∫–∏–Ω" ? "üê±" :
                  hero === "–ú–∞—à–∞" ? "üëß" : "üôÇ";

      targetEmoji = target;

      document.getElementById("mazeTask").innerText =
        hero + " –∏–¥—ë—Ç –∫ " + target;

      maze = [
        ["‚¨õ","‚¨õ","‚¨õ","‚¨õ","‚¨õ","‚¨õ","‚¨õ","‚¨õ"],
        ["‚¨õ",heroEmoji,"‚¨ú","‚¨ú","‚¨õ","‚¨ú",targetEmoji,"‚¨õ"],
        ["‚¨õ","‚¨ú","‚¨õ","‚¨ú","‚¨õ","‚¨ú","‚¨õ","‚¨õ"],
        ["‚¨õ","‚¨ú","‚¨õ","‚¨ú","‚¨ú","‚¨ú","‚¨ú","‚¨õ"],
        ["‚¨õ","‚¨ú","‚¨õ","‚¨õ","‚¨õ","‚¨õ","‚¨ú","‚¨õ"],
        ["‚¨õ","‚¨ú","‚¨ú","‚¨ú","‚¨ú","‚¨ú","‚¨ú","‚¨õ"],
        ["‚¨õ","‚¨õ","‚¨õ","‚¨õ","‚¨õ","‚¨õ","‚¨õ","‚¨õ"]
      ];

      player = { x: 1, y: 1 };
      drawMaze();
    }

    function drawMaze() {
      document.getElementById("maze").innerText =
        maze.map(row => row.join("")).join("\n");
    }

    function move(dir) {
      let dx = 0, dy = 0;
      if (dir === "up") dy = -1;
      if (dir === "down") dy = 1;
      if (dir === "left") dx = -1;
      if (dir === "right") dx = 1;

      let nx = player.x + dx;
      let ny = player.y + dy;

      if (maze[ny][nx] === "‚¨õ") return;

      if (maze[ny][nx] === targetEmoji) {
        alert("üéâ –ü–æ–±–µ–¥–∞!");
      }

      maze[player.y][player.x] = "‚¨ú";
      player.x = nx;
      player.y = ny;
      maze[player.y][player.x] = heroEmoji;

      drawMaze();
    }
  </script>

</body>
</html>