<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ò–≥—Ä—ã –≤ –º–µ—Ç—Ä–æ</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: #b71c1c;
      color: white;
      text-align: center;
    }

    h1 {
      margin-top: 20px;
      font-size: 36px;
      letter-spacing: 2px;
    }

    h2 {
      margin: 10px 0;
      font-size: 22px;
    }

    .menu button, .back-btn {
      font-size: 18px;
      padding: 12px 22px;
      border: none;
      border-radius: 30px;
      margin: 8px;
      background: white;
      color: #b71c1c;
      font-weight: bold;
      cursor: pointer;
    }

    .hidden {
      display: none;
    }

    /* ===== –ù–∞–π–¥–∏ –ø–∞—Ä—É ===== */
    .grid {
      display: grid;
      grid-template-columns: repeat(4, 70px);
      gap: 12px;
      justify-content: center;
      margin-top: 20px;
    }

    .card {
      width: 70px;
      height: 70px;
      background: #333;
      border-radius: 12px;
      font-size: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      user-select: none;
    }

    .card.open {
      background: white;
      color: black;
    }

    .card.matched {
      background: #4caf50;
      color: white;
    }

  </style>
</head>
<body>

  <!-- ===== –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω ===== -->
  <div id="home">
    <h1>–ò–ì–†–´ –í –ú–ï–¢–†–û</h1>
    <h2>–í—ã–±–µ—Ä–∏ –ª–∏–Ω–∏—é</h2>
    <div class="menu">
      <button onclick="openMemory()">üî¥ –õ–∏–Ω–∏—è –ø–∞–º—è—Ç–∏</button>
      <button onclick="openMaze()">üîµ –õ–∏–Ω–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞</button>
    </div>
  </div>

  <!-- ===== –ú–µ–Ω—é –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π ===== -->
  <div id="memoryMenu" class="hidden">
    <h2>üß† –ù–∞–π–¥–∏ –ø–∞—Ä—É</h2>
    <p>–í—ã–±–µ—Ä–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π:</p>
    <button onclick="startMemory('smeshariki')">üåà –°–º–µ—à–∞—Ä–∏–∫–∏</button><br>
    <button onclick="startMemory('fixiki')">üîß –§–∏–∫—Å–∏–∫–∏</button><br>
    <button onclick="startMemory('masha')">üêª –ú–∞—à–∞ –∏ –ú–µ–¥–≤–µ–¥—å</button><br>
    <button onclick="startMemory('winnie')">üçØ –í–∏–Ω–Ω–∏ –ü—É—Ö</button><br>
    <button onclick="startMemory('prostokvashino')">üê∂ –ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ</button><br><br>
    <button class="back-btn" onclick="goHome()">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>

  <!-- ===== –ò–≥—Ä–∞ –ù–∞–π–¥–∏ –ø–∞—Ä—É ===== -->
  <div id="memoryGame" class="hidden">
    <h2>–ù–∞–π–¥–∏ –ø–∞—Ä—É</h2>
    <p id="memoryTitle"></p>
    <div id="grid" class="grid"></div>
    <br>
    <button class="back-btn" onclick="goMemoryMenu()">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>

  <!-- ===== –ó–∞–≥–ª—É—à–∫–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ ===== -->
  <div id="mazeScreen" class="hidden">
    <h2>üîµ –õ–∏–Ω–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞</h2>
    <p>–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ª–∞–±–∏—Ä–∏–Ω—Ç üòé</p>
    <button class="back-btn" onclick="goHome()">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>

<script>
/* ===== –ù–∞–≤–∏–≥–∞—Ü–∏—è ===== */
function openMemory() {
  home.classList.add("hidden");
  memoryMenu.classList.remove("hidden");
}

function openMaze() {
  home.classList.add("hidden");
  mazeScreen.classList.remove("hidden");
}

function goHome() {
  memoryMenu.classList.add("hidden");
  memoryGame.classList.add("hidden");
  mazeScreen.classList.add("hidden");
  home.classList.remove("hidden");
}

function goMemoryMenu() {
  memoryGame.classList.add("hidden");
  memoryMenu.classList.remove("hidden");
}

/* ===== –î–∞–Ω–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π ===== */
const characters = {
  smeshariki: ["üê∞", "üêª", "ü¶î", "üê∑", "üê∏", "üêß", "ü¶ä", "üê∂"],
  fixiki: ["üîß", "üî©", "üí°", "üîå", "üõ†Ô∏è", "üì∫", "üîã", "üì±"],
  masha: ["üëß", "üêª", "üçØ", "üå≤", "ü•£", "üè°", "üéÄ", "üçì"],
  winnie: ["üêª", "üçØ", "üê∑", "üêØ", "ü¶â", "üê∞", "üå≥", "üéà"],
  prostokvashino: ["üê±", "üê∂", "ü•õ", "üì¶", "üö≤", "üè°", "üß¢", "üêÆ"]
};

/* ===== –ù–∞–π–¥–∏ –ø–∞—Ä—É ===== */
let first = null;
let lock = false;

function startMemory(type) {
  memoryMenu.classList.add("hidden");
  memoryGame.classList.remove("hidden");
  memoryTitle.textContent = "–ü–µ—Ä—Å–æ–Ω–∞–∂–∏: " + type;

  const grid = document.getElementById("grid");
  grid.innerHTML = "";
  first = null;
  lock = false;

  const cards = [...characters[type], ...characters[type]];
  cards.sort(() => Math.random() - 0.5);

  cards.forEach(symbol => {
    const card = document.createElement("div");
    card.className = "card";
    card.textContent = "‚ùì";

    card.dataset.symbol = symbol;
    card.onclick = () => flip(card);

    grid.appendChild(card);
  });
}

function flip(card) {
  if (lock || card.classList.contains("open") || card.classList.contains("matched")) return;

  card.textContent = card.dataset.symbol;
  card.classList.add("open");

  if (!first) {
    first = card;
    return;
  }

  if (first.dataset.symbol === card.dataset.symbol) {
    first.classList.add("matched");
    card.classList.add("matched");
    first = null;
  } else {
    lock = true;
    setTimeout(() => {
      first.textContent = "‚ùì";
      card.textContent = "‚ùì";
      first.classList.remove("open");
      card.classList.remove("open");
      first = null;
      lock = false;
    }, 800);
  }
}
</script>

</body>
</html>